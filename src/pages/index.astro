---
import Layout from '../components/layout.astro';

/* 
Пример структуры данных игры (можно перенести в отдельный скрипт):
Далее вы можете использовать JS для рендера состояния.
Пример: 
const gridState = [
  { type: 'start', armies: [{power: 1}], features: ['economic', 'defensive', 'military'] },
  { type: 'empty', armies: [], features: [] },
  ...
];

В дальнейшем можно динамически генерировать HTML или использовать реактивные фреймворки.
*/
---

<style>
  :root {
    --light: #f5f5f5;
    --white: #ffffff;
    --lightBorder: #e0e0e0;
    --card-radius: 8px;
  }

  .hex-grid {
    display: grid;
    grid-template-columns: repeat(5, 60px); /* Количество колонок */
    gap: 0; /* Убираем промежутки между гексами */
    justify-content: center;
    position: relative;
    background: var(--light);
    margin-top: 3rem;
    padding: 5rem 5vw;
  }

  .hex-grid .hex {
    position: relative;
    width: 60px;
    height: 52px;
    background-color: var(--white);
    border: 1px solid var(--lightBorder);
    clip-path: polygon(
      50% 0%,
      100% 25%,
      100% 75%,
      50% 100%,
      0% 75%,
      0% 25%
    );
    transition: box-shadow 0.2s ease;
  }

  .hex-grid .hex:hover {
    cursor: pointer;
    box-shadow: 0 2px 4px rgb(14 30 37 / 12%);
  }

  /* Сдвиг каждой второй строки */
  .hex-grid .row:nth-child(even) {
    transform: translateX(30px); /* Смещаем гексы на полгекса */
  }

  /* Стартовый гекс */
  .hex.start {
    background-color: #c0e8ff; /* Условный цвет для стартовой клетки */
    border: 2px solid #0077cc;
  }


  /* Пример состояния стартового гекса:
     Отличается цветом или рамкой, так как там сразу все три особенности */
  .hex.start {
    background-color: #c0e8ff; /* условный цвет для стартовой клетки */
    border: 2px solid #0077cc;
  }

  .hex:hover {
    cursor: pointer;
    box-shadow: 0 2px 4px rgb(14 30 37 / 12%);
  }

  /* Можно добавить индикаторы особенностей и армий внутри гекса, 
     например, через pseudo-элементы или вложенные span */
  .hex .army {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.7rem;
    font-weight: bold;
    color: #333;
  }

  .hex.economic {
    /* например, зеленоватый оттенок */
    background-color: #d8ffd8;
  }

  .hex.defensive {
    /* например, сероватый оттенок */
    background-color: #f0f0f0;
  }

  .hex.military {
    /* например, розоватый оттенок */
    background-color: #ffd8d8;
  }

</style>

<Layout
  title="City Building Game"
  description="Управляйте городом на гексагональной сетке. Создавайте особенности, армии и расширяйтесь."
  home
>
  <!-- Тут вы можете динамически генерировать гексы на основе состояния -->
  <main class="hex-grid">
    <!-- Первая строка -->
    <div class="hex start"></div>
    <div class="hex economic"></div>
    <div class="hex defensive"></div>
    <div class="hex military"></div>
    <div class="hex"></div>
  
    <!-- Вторая строка (сдвинута на 30px) -->
    <div class="row">
      <div class="hex"></div>
      <div class="hex economic"></div>
      <div class="hex military"></div>
      <div class="hex defensive"></div>
    </div>
  
    <!-- Третья строка -->
    <div class="hex"></div>
    <div class="hex economic"></div>
    <div class="hex defensive"></div>
    <div class="hex"></div>
    <div class="hex military"></div>
  
    <!-- Четвертая строка (сдвинута на 30px) -->
    <div class="row">
      <div class="hex start"></div>
      <div class="hex economic"></div>
      <div class="hex"></div>
      <div class="hex defensive"></div>
      <div class="hex"></div>
    </div>
  </main>
  
</Layout>
